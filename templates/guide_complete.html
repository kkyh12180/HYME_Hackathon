<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./menu.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/@ivteplo/utilities.css@1.0.0/build/main.css">
    <link rel="stylesheet" href="css/kiosk_missionbar.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script src="burger_menu.js" defer></script>
    <link rel="stylesheet" href="css/total.css">
    <link rel="stylesheet" href="css/burger_set.css">
    <title>SmartUs</title>
</head>

<body style="margin: 0; background-color: #ffffff;">
    <nav class="navbar sticky-top bg-light">
        <div class="container-fluid">
            <div class="navbar-brand" id="logo_mission">
                <img src="../static/media/missionLogo.png" alt="Logo" width="30" class="d-inline-block align-text-top">
                <span style="font-size: 20px;">가이드</span>
            </div>
            <div class="mission-box">
                <p id="mission" style="width: 100%;"></p>
            </div>
        </div>
        <div class="progress-container">
            <p class="progress-text">진행률</p>
            <div class="progress">
                <div class="progress-bar bg-success" role="progressbar" aria-label="Success striped example"
                    style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
            </div>
        </div>

    </nav>

    <div class="body_container">
        <div class="menu_name_container">
            <img src="../static/media/Mc_logo.png" style="width: 10vw; float: left;">
            <h2 id="menu_name">&nbsp;&nbsp;&nbsp;버거&세트</h2>
        </div>

        <div class="body">
            <div class="side_container">
                <div class="side_box">
                    <div class="side_item" id="1_side">
                        <img src="" id="side_image_1" alt="추천"><br>
                        <p id="side_item_1"></p>
                    </div>
                    <div class="side_item" id="2_side" onclick="location.href='drink_menu.html'">
                        <img src="" id="side_image_2" alt="추천"><br>
                        <p id="side_item_2"></p>
                    </div>
                    <div class="side_item" id="3_side" onclick="location.href='burger_set.html'">
                        <img src="" id="side_image_3" alt="추천"><br>
                        <p id="side_item_3"></p>
                    </div>
                    <div class="side_item" id="4_side" onclick="location.href='kiosk_4.html'">
                        <img src="" id="side_image_4" alt="추천"><br>
                        <p id="side_item_4"></p>
                    </div>
                    <div class="side_item" id="5_side">
                        <img src="" id="side_image_5" alt="추천"><br>
                        <p id="side_item_5"></p>
                    </div>
                    <div class="side_item" id="6_side">
                        <img src="" id="side_image_6" alt="추천"><br>
                        <p id="side_item_6"></p>
                    </div>
                    <div class="side_item" id="7_side" onclick="location.href='side_set.html'">
                        <img src="" id="side_image_7" alt="추천"><br>
                        <p id="side_item_7"></p>
                    </div>
                </div>
            </div>

            <div class="menu_container">
                <div class="menu_box">
                    <div class="item"><img class="category_img" src="../static/media/burger_set/1955.png"
                            onclick="openImg('1955')"></div>
                    <div class="item"><img class="category_img" src="../static/media/burger_set/big.png"
                            onclick="openImg('big_mac')"></div>
                    <div class="item"><img class="category_img" src="../static/media/burger_set/chicken.png"
                            onclick="openImg('mac_chicken')"></div>
                    <div class="item"><img class="category_img" src="../static/media/burger_set/double.png"
                            onclick="openImg('double_bulgogi')"></div>
                    <div class="item"><img class="category_img" src="../static/media/burger_set/spicy.png"
                            onclick="openImg('mac_spicy')"></div>
                    <div class="item"><img class="category_img" src="../static/media/burger_set/susu.png"
                            onclick="openImg('supreme_shrimp')"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Button to open a sheet -->
    <button type="button" id="open-sheet" aria-controls="sheet">Open Sheet</button>

    <!-- The sheet component -->
    <div id="sheet" class="column items-center justify-end" aria-hidden="true">
        <!-- Dark background for the sheet -->
        <div class="overlay"></div>

        <!-- The sheet itself -->
        <div id="contents" class="contents column">
            <!-- Sheet controls -->
            <header class="controls">
                <div class="draggable-area">
                    <div class="draggable-thumb"></div>
                </div>
                <!-- <button class="close-sheet close" type="button" title="Close the sheet">&times;</button> -->
            </header>

            <!-- Body of the sheet -->
            <main class="body fill column">
                <div class="top_box">
                    <div class="top_title">원하시는 구성을 선택해주세요.</div>
                    <button type="button" class="btn btn-danger top_btn close-sheet">취소</button>
                </div>
                <div class="mid_box">
                    <div class="menu" onclick="save_single()">
                        <img class="menu_img" id="menu_img_single" src="../static/media/mac_food/hamburger/big_mac.png"
                            alt="빅맥" style="width:29.3vw;">
                        <div class="menu_name" id="menu_name_single">빅맥</div>
                        <div class="menu_price" id="menu_price_single">￦5,700</div>
                    </div>
                    <div class="menu" onclick="guide_send_burger_info('set')">
                        <img class="menu_img" id="menu_img_set" src="../static/media/mac_food/hamburger/big_mac_set.png"
                            alt="빅맥" style="width:29.3vw;">
                        <div class="menu_name" id="menu_name_set">빅맥세트</div>
                        <div class="menu_price" id="menu_price_set">￦7,500</div>
                    </div>
                    <div class="menu guide-box" style="border-radius: 10px" onclick="guide_send_burger_info('large')">
                        <img class="menu_img" id="menu_img_large"
                            src="../static/media/mac_food/hamburger/big_mac_set.png" alt="빅맥" style="width:29.3vw;">
                        <div class="menu_name" id="menu_name_large">빅맥세트 - 라지</div>
                        <div class="menu_price" id="menu_price_large">￦8,100</div>
                    </div>
                </div>
                <div class="explanation pulse" style="font-size: 12px; position: absolute; top: 40px; left: 20%;">
                    <span style="color:red;">"라지 세트"</span> 를 선택해 주세요.<br>
                    취소 버튼을 눌러 취소할 수 있어요.
                </div>
            </main>
        </div>
    </div>

    <div class="order_box">
        <div class="order_title">주문내역</div>
        <div class="order_contents_box">
            <div class="order_contents">장바구니가 비어 있습니다.</div>
            <div class="total_box">
                <span class="total_price">합계: (가격) | 담은 개수: (개수)</span>
                <span class="total_detail" onclick="location.href='total_menu.html'">주문 내역 상세 보기 >> </span>
            </div>
        </div>
        <div class="order_bottom">
            <button type="button" class="btn btn-danger cancel_btn" style="padding:0; font-size: 15px;">주문취소</button>
            <button type="button" class="btn btn-success order_btn" style="padding:0; font-size: 15px;" onclick="location.href='kiosk_check.html'">주문완료</button>
        </div>
    </div>

    <div class="explanation pulse" style="font-size: 12px; position: absolute; bottom: 18%;">
        아래 주문 내역에서 장바구니에 담긴 메뉴들을 확인할 수 있어요. 주문 내역 상세 보기를 통해 개수를 변경할 수도 있어요.
    </div>
    <script>
        function backToStart(){
          Swal.fire({
                    title: '배우기 모드가 모두 끝났습니다',
                    text: "연습하기 모드에서 연습해봐요!",
                    icon: 'success',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: '확인',
                    cancelButtonText: '취소'
                }).then((result) => {
                    if (result.isConfirmed) {
                        location.href="kiosk_menu.html";
                    }
                });
        }


        function openImg(burger) {
            select_set(burger)
            document.getElementById('open-sheet').click();
        };
        if(sessionStorage.getItem("basket")!=null){
          var basket_data = JSON.parse(sessionStorage.getItem("basket"));
          document.getElementsByClassName("order_contents")[0].style.display = "none";
          document.getElementsByClassName("total_box")[0].style.display = "flex";
          document.getElementsByClassName("total_price")[0].innerHTML = "합계: (가격) | 담은 개수: "+JSON.parse(sessionStorage.getItem("basket")).length;
        }else {
          document.getElementsByClassName("total_box")[0].style.display = "none";
          document.getElementsByClassName("order_contents")[0].style.display = "block";
        }
        change_count();

        getMission();
        //recommend_func();
        side_func();

        setTimeout(function() {
            backToStart();
        }, 2000);


    </script>
</body>

</html>